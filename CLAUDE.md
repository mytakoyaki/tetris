# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## プロジェクト概要

**ClaudeTetris** - テトリス初心者をターゲットにした、革新的なポイントシステムとフィーバーモードを持つWebベースのテトリスゲーム。モダンブラウザ向けにHTML5、CSS3、JavaScript（ES6+）で構築。

## プロジェクトアーキテクチャ

### コアゲームメカニクス
- **ポイントシステム**: テトリミノ設置1回につき10ポイント獲得、戦略的優位性に使用可能
- **ブロック交換**: 30ポイント消費で現在落下中のブロックを交換（Eキー）
- **フィーバーモード**: 30回テトリミノ設置毎に発動、20秒間の特別効果:
  - 無料無制限ブロック交換
  - 全スコア2倍ボーナス
- **ホールドシステム**: 標準テトリスのホールド機能（Cキー）

### ゲーム構造
- **ゲームフィールド**: クラシックテトリスルールに従う10x20グリッド
- **テトリミノタイプ**: 標準7種類（I, O, T, S, Z, J, L）
- **UIレイアウト**: 3エリア構成:
  - 左: HOLD表示、フィーバーゲージ
  - 中央: ゲームフィールド
  - 右: SCORE、POINTS、NEXTブロック

### 操作方法
- 矢印キー: 移動（左/右/ソフトドロップ）と回転（上）
- スペース: ハードドロップ
- C: ホールド機能
- E: NEXTブロック交換（独自機能）

## 開発コマンド

バニラWebプロジェクトのため、ビルドシステムは不要:

```bash
# 開発
# index.htmlをブラウザで直接開くか、ローカルサーバーを使用:
python -m http.server 8000
# または
npx serve .

# テスト
# ブラウザでの手動テスト（Chrome, Firefox, Safari, Edge）
```

## ファイル構造（作成予定）

```
/
├── index.html          # 3エリアレイアウトのメインゲームページ
├── style.css          # ゲームスタイリングと視覚効果
├── script.js          # メインゲームロジックと状態管理
├── js/
│   ├── tetrominos.js  # テトリミノ定義とロジック
│   ├── gameField.js   # ゲームフィールド管理
│   ├── pointSystem.js # ポイント獲得と交換システム
│   ├── feverMode.js   # フィーバーモードメカニクス
│   └── ui.js          # UI更新と表示ロジック
└── readme.txt         # プロジェクト仕様書（日本語）
```

## ゲーム状態とロジック

### 主要ゲーム状態
- **スタート画面**: タイトルとSTART GAMEボタン
- **プレイ中**: 全メカニクスが有効なメインゲーム
- **フィーバーモード**: 20秒間の特別強化ゲームプレイ
- **ゲームオーバー**: 最終スコア表示とPLAY AGAINオプション

### スコア計算
- 1ライン: 100点
- 2ライン: 300点
- 3ライン: 500点
- 4ライン（テトリス）: 800点
- フィーバーモード中は全スコア2倍

## 実装注意事項

- 仕様書要件に従う: ハードコード禁止
- 同名の関数/変数名を避ける
- 初心者向けゲームプレイに焦点、明確な視覚フィードバック
- モチベーション維持のためフィーバーモード進捗カウンター実装
- フィーバーモード中のボーナススコア表示
- モダンブラウザでの滑らかな60fps保証

## 視覚効果優先順位

1. フィーバーモード発動アニメーション（「FEVER!」表示）
2. ボーナススコア表示（「+200 (x2 BONUS!)」）
3. フィーバータイマー/ゲージ表示
4. ブロック交換コスト表示（「-30P」）
5. フィーバーモード中の背景エフェクト

## デザイン要件 - 高級感の追求

### カラーパレット
- **ベースカラー**: 深いグレー（#1a1a1a, #2d2d2d）とチャコール系
- **アクセントカラー**: エレガントなネオン（#00ff88, #ff6b6b, #4ecdc4）
- **プレミアム効果**: 金色グラデーション（#ffd700〜#ff8c00）をフィーバーモードに使用
- **テキスト**: 高コントラストの白（#ffffff）とソフトグレー（#cccccc）

### タイポグラフィ
- **メインフォント**: モダンサンセリフ（'Segoe UI', 'Arial', sans-serif）
- **数値表示**: モノスペースフォント（'Consolas', 'Monaco', monospace）
- **タイトル**: 太字でレタースペーシング調整（letter-spacing: 2px）
- **階層**: 明確なフォントサイズ差とウェイト差

### 視覚エフェクト
- **シャドウ**: 深い影効果（box-shadow: 0 8px 32px rgba(0,0,0,0.3)）
- **グラデーション**: 微細な線形グラデーション背景
- **ボーダー**: 1px細線とroundedコーナー（border-radius: 8px）
- **ホバー効果**: 滑らかなtransition（0.3s ease）
- **グロー**: フィーバーモード時の発光効果（box-shadow glow）

### レイアウト高級化
- **スペーシング**: 十分な余白（padding: 20px〜40px）
- **アライメント**: 完璧な中央揃えと均等配置
- **コンテナ**: 角丸とサブトルシャドウ付きカード設計
- **レスポンシブ**: 全画面サイズで美しい比率維持

### プレミアム要素
- **アニメーション**: 60fps滑らか（CSS transforms使用）
- **パーティクル**: フィーバーモード時の微細なキラキラ効果
- **プログレスバー**: グラデーション付き進捗表示
- **ボタン**: 立体感のある押下フィードバック
- **ローディング**: エレガントなスピナー/進捗アニメーション